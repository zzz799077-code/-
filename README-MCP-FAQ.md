<div align="center">

**中文** | **[English](README-MCP-FAQ-EN.md)**

</div>

# TrendRadar MCP 工具使用问答

> AI 提问指南 - 如何通过自然对话使用新闻热点分析工具（v3.1.6）

---

## 📋 工具一览

| 分类 | 工具名称 | 功能简介 |
|:----:|---------|---------|
| **日期** | `resolve_date_range` | 解析"本周"、"最近7天"等自然语言为标准日期 |
| **查询** | `get_latest_news` | 获取最新一批爬取的热榜新闻 |
| | `get_news_by_date` | 按日期范围查询历史新闻 |
| | `get_trending_topics` | 获取热点话题统计（支持自动提取） |
| **RSS** | `get_latest_rss` | 获取最新 RSS 订阅内容 |
| | `search_rss` | 在 RSS 数据中搜索关键词 |
| | `get_rss_feeds_status` | 查看 RSS 源配置和数据状态 |
| **搜索** | `search_news` | 统一搜索（关键词/模糊/实体，可含RSS） |
| | `find_related_news` | 查找与指定标题相似的新闻 |
| **分析** | `analyze_topic_trend` | 话题趋势分析（热度/生命周期/爆火/预测） |
| | `analyze_data_insights` | 数据洞察（平台对比/活跃度/关键词共现） |
| | `analyze_sentiment` | 新闻情感倾向分析 |
| | `aggregate_news` | 跨平台新闻聚合去重 |
| | `compare_periods` | 时期对比分析（周环比/月环比） |
| | `generate_summary_report` | 生成每日/每周摘要报告 |
| **系统** | `get_current_config` | 获取当前系统配置 |
| | `get_system_status` | 获取系统运行状态 |
| | `check_version` | 检查版本更新（TrendRadar + MCP Server） |
| | `trigger_crawl` | 手动触发一次爬取任务 |
| **存储** | `sync_from_remote` | 从远程存储拉取数据到本地 |
| | `get_storage_status` | 获取存储配置和状态 |
| | `list_available_dates` | 列出本地/远程可用的日期 |

---

## ⚙️ 默认设置说明（重要！）

默认采用以下优化策略，主要是为了节约 AI token 消耗：

| 默认设置       | 说明                                    | 如何调整                              |
| -------------- | --------------------------------------- | ------------------------------------- |
| **限制条数**   | 默认返回 50 条新闻                      | 对话中说"返回前 10 条"或"给我 100 条" |
| **时间范围**   | 默认查询今天的数据                      | 说"查询昨天"、"最近一周"或"1月1日到7日" |
| **URL 链接**   | 默认不返回链接（节省约 160 tokens/条）  | 说"需要链接"或"包含 URL"              |
| **关键词列表** | 默认不使用 frequency_words.txt 过滤新闻 | 只有调用"趋势话题"工具时才使用        |

**⚠️ 重要：** AI 模型的选择直接影响工具调用效果，AI 越智能，调用越准确。当你解除上面的限制，比如从今天的查询，放宽到一周的查询，首先你要在本地有一周的数据，其次，token 消耗量可能会倍增。

**💡 提示：** 本项目提供了专门的日期解析工具，可以准确解析"最近7天"、"本周"等自然语言日期表达式，确保所有 AI 模型获得一致的日期范围。详见下方 Q18。


## 💰 AI 模型

下面我以 **[硅基流动](https://cloud.siliconflow.cn)** 平台作为例子，里面有很多大模型可选择。在开发和测试本项目的过程中，我使用本平台进行了许多的功能测试和验证。

### 📊 注册方式对比

| 注册方式 | 无邀请链接直接注册 | 含有邀请链接注册  |
|:-------:|:-------:|:-----------------:|
| 注册链接 | [siliconflow.cn](https://cloud.siliconflow.cn) | [邀请链接](https://cloud.siliconflow.cn/i/fqnyVaIU) |
| 免费额度 | 0 tokens | **2000万 tokens** (≈14元) |
| 额外福利 | ❌ | ✅ 邀请者也获得2000万tokens |

> 💡 **提示**：上面的赠送额度，应该可以询问 **200次以上**


### 🚀 快速开始

#### 1️⃣ 注册并获取 API 密钥

1. 使用上方链接完成注册
2. 访问 [API 密钥管理页面](https://cloud.siliconflow.cn/me/account/ak)
3. 点击「新建 API 密钥」
4. 复制生成的密钥（请妥善保管）

#### 2️⃣ 在 Cherry Studio 中配置

1. 打开 **Cherry Studio**
2. 进入「模型服务」设置
3. 找到「硅基流动」
4. 将复制的密钥粘贴到 **[API密钥]** 输入框
5. 确保右上角勾选框打开后显示为 **绿色** ✅

---

### ✨ 配置完成！

现在你可以开始使用本项目，享受稳定快速的 AI 服务了！

在你测试一次询问后，请立刻去 [硅基流动账单](https://cloud.siliconflow.cn/me/bills) 查询这一次的消耗量，心底有个估算。


---

## 基础查询

### Q1: 如何查看最新的新闻？

**你可以这样问：**

- "给我看看最新的新闻"
- "查询今天的热点新闻"
- "获取知乎和微博的最新 10 条新闻"
- "查看最新新闻，需要包含链接"

**工具返回行为：**

- 工具会返回所有平台的最新 50 条新闻
- 默认不包含 URL 链接（节省 token）

**AI 展示行为（重要）：**

- ⚠️ **AI 通常会自动总结**，只展示部分新闻（如 TOP 10-20 条）
- ✅ 如果你想看全部 50 条，需要明确要求："展示所有新闻"或"完整列出所有 50 条"
- 💡 这是 AI 模型的自然行为，不是工具的限制

**可以调整：**

- 指定平台：如"只看知乎的"
- 调整数量：如"返回前 20 条"
- 包含链接：如"需要链接"
- **要求完整展示**：如"展示全部，不要总结"

---

### Q2: 如何查询特定日期的新闻？

**你可以这样问：**

- "查询昨天的新闻"
- "看看 3 天前知乎的新闻"
- "2025-10-10 的新闻有哪些"
- "上周一的新闻"
- "给我看看最新新闻"（自动查询今天）

**支持的日期格式：**

- 相对日期：今天、昨天、前天、3 天前
- 星期：上周一、本周三、last monday
- 绝对日期：2025-10-10、10 月 10 日

**工具返回行为：**

- 不指定日期时自动查询今天（节省 token）
- 工具会返回所有平台的 50 条新闻
- 默认不包含 URL 链接

**AI 展示行为（重要）：**

- ⚠️ **AI 通常会自动总结**，只展示部分新闻（如 TOP 10-20 条）
- ✅ 如果你想看全部，需要明确要求："展示所有新闻，不要总结"

---

### Q3: 如何查看热点话题统计？

**你可以这样问：**

- "我关注的词今天出现了多少次"（使用预设关注词）
- "自动分析今天新闻里有哪些热门话题"（自动提取）
- "看看新闻里最热门的词是什么"（自动提取）

**两种提取模式：**

| 模式 | 说明 | 示例问法 |
|------|------|---------|
| **预设关注词** | 统计你预先设定的关注词（基于配置文件，默认） | "我的关注词出现了多少次" |
| **自动提取** | 自动从新闻标题提取高频词（无需预设） | "自动分析热门话题" |

---

## RSS 订阅查询

### Q4.1: 如何查看最新的 RSS 订阅内容？

**你可以这样问：**

- "查看最新的 RSS 订阅内容"
- "获取 Hacker News 的最新文章"
- "查看所有 RSS 源的最新 20 条"
- "获取 RSS 订阅，需要包含摘要"
- "看看最近一周的 RSS 内容"（支持多日查询）
- "获取 Hacker News 最近 7 天的文章"

**工具返回行为：**

- 默认返回今天的 RSS 条目（最多 50 条）
- 支持 `days` 参数获取多日数据（1-30天）
- 默认不包含摘要（节省 token）
- 按发布时间倒序排列
- 跨日期自动去重（按 URL）

**AI 展示行为（重要）：**

- ⚠️ **AI 通常会自动总结**，只展示部分条目
- ✅ 如果你想看全部，需要明确要求："展示所有 RSS 内容"

**可以调整：**

- 指定 RSS 源：如"只看 Hacker News"
- 指定天数：如"最近 7 天"、"最近一周"
- 调整数量：如"返回前 20 条"
- 包含摘要：如"需要摘要"

---

### Q4.2: 如何搜索 RSS 订阅中的内容？

**你可以这样问：**

- "在 RSS 中搜索'AI'相关的文章"
- "搜索最近 7 天 RSS 中关于'机器学习'的内容"
- "在 Hacker News 中搜索'Python'"

**工具返回行为：**

- 使用关键词搜索 RSS 条目的标题
- 默认搜索最近 7 天的数据
- 工具会返回最多 50 条结果

**可以调整：**

- 指定 RSS 源：如"只搜索 Hacker News"
- 调整天数：如"搜索最近 14 天"
- 包含摘要：如"需要摘要"

---

### Q4.3: 如何查看 RSS 源的状态？

**你可以这样问：**

- "查看 RSS 源状态"
- "RSS 抓取了多少数据"
- "哪些 RSS 源有数据"

**返回信息：**

| 字段 | 说明 |
|------|------|
| **可用日期** | 有 RSS 数据的日期列表 |
| **总日期数** | 总共有多少天的数据 |
| **今日各源统计** | 今日各 RSS 源的数据统计 |
| **生成时间** | 状态生成时间 |

---

## 搜索检索

### Q4: 如何搜索包含特定关键词的新闻？

**你可以这样问：**

- "搜索包含'人工智能'的新闻"
- "查找关于'特斯拉降价'的报道"
- "搜索马斯克相关的新闻，返回前 20 条"
- "查找最近7天关于'iPhone 16'的新闻"
- "查找2025年1月1日到7日'特斯拉'的相关新闻"
- "查找'iPhone 16 发布'这条新闻的链接"

**工具返回行为：**

- 使用关键词模式搜索
- 默认搜索今天的数据
- AI会自动将"最近7天"、"上周"等相对时间转换为具体日期范围
- 工具会返回最多 50 条结果
- 默认不包含 URL 链接

**AI 展示行为（重要）：**

- ⚠️ **AI 通常会自动总结**，只展示部分搜索结果
- ✅ 如果你想看全部，需要明确要求："展示所有搜索结果"

**可以调整：**

- 指定时间范围：
  - 相对方式："搜索最近一周的"（AI 自动计算日期）
  - 绝对日期："搜索2025年1月1日到7日的"
- 指定平台：如"只搜索知乎"
- 调整排序：如"按权重排序"
- 包含链接：如"需要链接"

---

### Q4.4: 如何同时搜索热榜和 RSS 内容？

**你可以这样问：**

- "搜索'AI'相关内容，包括 RSS"
- "查找'人工智能'的新闻，同时搜索 RSS 订阅"
- "搜索'特斯拉'，热榜和 RSS 都要"

**工具返回行为：**

- 热榜结果和 RSS 结果**分开展示**
- 热榜按排名/相关度排序，RSS 按发布时间排序
- RSS 结果不影响热榜的排名展示
- 默认返回热榜 50 条 + RSS 20 条

**可以调整：**

- RSS 数量：如"RSS 返回 10 条"
- 只搜索热榜：不说"包括 RSS"（默认行为）
- 只搜索 RSS：说"只在 RSS 中搜索"

---

### Q5: 如何查找相关新闻？

**你可以这样问：**

- "找出和'特斯拉降价'相似的新闻"（今天）
- "查找昨天与'人工智能突破'相关的新闻"（历史）
- "搜索上周关于'ChatGPT'的相关报道"（历史）
- "看看最近7天有没有和这条新闻相似的报道"（历史）

**支持的时间范围：**

| 方式 | 说明 | 示例 |
|------|------|------|
| 不指定 | 只查询今天的数据（默认） | "找相似新闻" |
| 预设值 | 昨天、上周、上个月 | "查找昨天的相关新闻" |
| 日期范围 | 指定开始和结束日期 | "查找1月1日到7日的相关报道" |

**工具返回行为：**

- 相似度阈值 0.5（可调整）
- 工具会返回最多 50 条结果
- 按相似度排序
- 默认不包含 URL 链接

**AI 展示行为（重要）：**

- ⚠️ **AI 通常会自动总结**，只展示部分相关新闻
- ✅ 如果你想看全部，需要明确要求："展示所有相关新闻"

**可以调整：**

- 指定时间：如"查找上周的"
- 调整阈值：如"相似度 0.3 以上的都要"
- 包含链接：说"需要链接"

---

## 趋势分析

### Q6: 如何分析话题的热度趋势？

**你可以这样问：**

- "分析'人工智能'最近一周的热度趋势"
- "看看'特斯拉'话题是昙花一现还是持续热点"
- "检测今天有哪些突然爆火的话题"
- "预测接下来可能的热点话题"
- "分析'比特币'在2024年12月的生命周期"

**四种分析模式：**

| 模式 | 说明 | 示例问法 |
|------|------|---------|
| **热度趋势** | 追踪话题热度变化 | "分析'AI'的热度趋势" |
| **生命周期** | 从出现到消失的完整周期 | "看看'XX'是昙花一现还是持续热点" |
| **异常检测** | 识别突然爆火的话题 | "今天有哪些突然爆火的话题" |
| **预测** | 预测未来可能的热点 | "预测接下来可能的热点" |

**工具返回行为：**

- AI会自动将"最近一周"等相对时间转换为具体日期范围
- 默认分析最近7天数据
- 按天粒度统计

---

## 数据洞察

### Q7: 如何对比不同平台对话题的关注度？

**你可以这样问：**

- "对比各个平台对'人工智能'话题的关注度"
- "看看哪个平台更新最频繁"
- "分析一下哪些关键词经常一起出现"

**三种洞察模式：**

| 模式           | 功能             | 示例问法                   |
| -------------- | ---------------- | -------------------------- |
| **平台对比**   | 对比各平台关注度 | "对比各平台对'AI'的关注度" |
| **活跃度统计** | 统计平台发布频率 | "看看哪个平台更新最频繁"   |
| **关键词共现** | 分析关键词关联   | "哪些关键词经常一起出现"   |

**工具返回行为：**

- 默认使用平台对比模式
- 分析今天的数据
- 关键词共现最小频次 3 次

---

## 情感分析

### Q8: 如何分析新闻的情感倾向？

**你可以这样问：**

- "分析一下今天新闻的情感倾向"
- "看看'特斯拉'相关新闻是正面还是负面的"
- "分析各平台对'人工智能'的情感态度"
- "看看'比特币'一周内的情感倾向，选择前 20 条最重要的"

**工具返回行为：**

- 默认分析今天的数据
- 工具会返回最多 50 条新闻
- 按权重排序（优先展示重要新闻）
- 默认不包含 URL 链接

**AI 展示行为（重要）：**

- ⚠️ 本工具返回 **AI 提示词**，不是直接的情感分析结果
- AI 会根据提示词生成情感分析报告
- 通常会展示情感分布、关键发现和代表性新闻

**可以调整：**

- 指定话题：如"关于'特斯拉'"
- 指定时间：如"最近一周"
- 调整数量：如"返回前 20 条"

---

### Q9: 如何获取去重后的跨平台新闻？

**你可以这样问：**

- "帮我聚合今天的新闻，去掉重复的"
- "看看哪些新闻在多个平台都有报道"
- "给我看去重后的热点新闻"
- "哪些新闻是跨平台热点"

**工具功能：**

- 自动识别不同平台报道的同一事件
- 将相似新闻合并为一条聚合新闻
- 显示每条新闻的平台覆盖情况
- 计算综合热度权重

**返回信息：**

| 字段 | 说明 |
|------|------|
| **代表性标题** | 这组新闻的代表标题 |
| **覆盖平台** | 哪些平台报道了这条新闻 |
| **平台数量** | 覆盖了多少个平台 |
| **是否跨平台** | 是否为跨平台热点 |
| **最佳排名** | 在各平台的最佳排名 |
| **综合权重** | 综合热度评分 |
| **各平台来源** | 各平台的详细信息 |

**可以调整：**

- 指定时间：如"最近一周的"
- 调整相似度阈值：如"更严格匹配"或"宽松匹配"
- 指定平台：如"只看知乎和微博"

---

### Q10: 如何生成每日或每周的热点摘要？

**你可以这样问：**

- "生成今天的新闻摘要报告"
- "给我一份本周的热点总结"
- "生成过去 7 天的新闻分析报告"

**报告类型：**

- 每日摘要：总结当天的热点新闻
- 每周摘要：总结一周的热点趋势

---

### Q11: 如何对比不同时期的热点变化？

**你可以这样问：**

- "对比本周和上周的热点变化"
- "看看这个月和上个月有什么不同"
- "分析'人工智能'在两个时期的热度差异"
- "对比各平台活跃度的变化"

**三种对比模式：**

| 模式 | 说明 | 适用场景 |
|------|------|---------|
| **总体概览** | 新闻数量变化、关键词变化、TOP新闻对比 | 快速了解整体变化 |
| **话题变化** | 上升话题、下降话题、新出现话题 | 分析热点转移 |
| **平台活跃度** | 各平台新闻数量变化 | 了解平台动态 |

**时间段预设值：**

- 今天 / 昨天
- 本周 / 上周
- 本月 / 上月
- 或使用自定义日期范围

---

## 系统管理

### Q12: 如何查看系统配置？

**你可以这样问：**

- "查看当前系统配置"
- "显示配置文件内容"
- "有哪些可用的平台？"
- "当前的权重配置是什么？"

**可以查询：**

- 可用平台列表
- 爬虫配置（请求间隔、超时设置）
- 权重配置（排名权重、频次权重）
- 通知配置（钉钉、微信）

---

### Q13: 如何检查系统运行状态？

**你可以这样问：**

- "检查系统状态"
- "系统运行正常吗？"
- "最后一次爬取是什么时候？"
- "有多少天的历史数据？"

**返回信息：**

- 系统版本和状态
- 最后爬取时间
- 历史数据天数
- 健康检查结果

---

### Q13.1: 如何检查版本更新？

**你可以这样问：**

- "检查版本更新"
- "有没有新版本？"
- "当前版本是最新的吗？"

**返回信息：**

会同时检查两个组件的版本：

| 组件 | 说明 |
|------|------|
| **TrendRadar** | 核心爬虫和分析引擎 |
| **MCP Server** | AI 对话工具服务 |

每个组件会告诉你：
- 当前安装的版本
- 最新可用的版本
- 是否需要更新
- 更新建议

**可以调整：**

- 如果访问 GitHub 较慢，可以说"检查版本更新，使用代理 http://127.0.0.1:10801"

---

### Q14: 如何手动触发爬取任务？

**你可以这样问：**

- "请你爬取当前的今日头条的新闻"（临时查询）
- "帮我抓取一下知乎和微博的最新新闻并保存"（持久化）
- "触发一次爬取并保存数据"（持久化）
- "获取 36 氪 的实时数据但不保存"（临时查询）

**两种模式：**

| 模式           | 用途                 | 示例                 |
| -------------- | -------------------- | -------------------- |
| **临时爬取**   | 只返回数据不保存     | "爬取今日头条的新闻" |
| **持久化爬取** | 保存到 output 文件夹 | "抓取并保存知乎新闻" |

**工具返回行为：**

- 默认为临时爬取模式（不保存）
- 默认爬取所有平台
- 默认不包含 URL 链接

**AI 展示行为（重要）：**

- ⚠️ **AI 通常会总结爬取结果**，只展示部分新闻
- ✅ 如果你想看全部，需要明确要求："展示所有爬取的新闻"

**可以调整：**

- 指定平台：如"只爬取知乎"
- 保存数据：说"并保存"或"保存到本地"
- 包含链接：说"需要链接"

---

## 存储同步

### Q15: 如何从远程存储同步数据到本地？

**你可以这样问：**

- "从远程同步最近 7 天的数据"
- "拉取远程存储的数据到本地"
- "同步最近 30 天的新闻数据"

**使用场景：**

- 爬虫部署在云端（如 GitHub Actions），数据存储到远程（如 Cloudflare R2）
- MCP Server 部署在本地，需要从远程拉取数据进行分析

**返回信息：**

- 成功同步的文件数量
- 成功同步的日期列表
- 跳过的日期（本地已存在）
- 失败的日期及错误信息

**前提条件：**

需要在配置文件中配置远程存储或设置环境变量：
- 服务端点 URL
- 存储桶名称
- 访问密钥 ID
- 访问密钥

---

### Q16: 如何查看存储状态？

**你可以这样问：**

- "查看当前存储状态"
- "存储配置是什么"
- "本地有多少数据"
- "远程存储配置了吗"

**返回信息：**

| 类别 | 信息 |
|------|------|
| **本地存储** | 数据目录、总大小、日期数量、日期范围 |
| **远程存储** | 是否配置、端点地址、存储桶名称、日期数量 |
| **拉取配置** | 是否启用自动拉取、拉取天数 |

---

### Q17: 如何查看可用的数据日期？

**你可以这样问：**

- "本地有哪些日期的数据"
- "远程存储有哪些日期"
- "对比本地和远程的数据日期"
- "哪些日期只在远程有"

**三种查询模式：**

| 模式 | 说明 | 示例问法 |
|------|------|---------|
| **本地** | 仅查看本地 | "本地有哪些日期" |
| **远程** | 仅查看远程 | "远程有哪些日期" |
| **对比** | 对比两者（默认） | "对比本地和远程的数据" |

**返回信息（对比模式）：**

- 仅本地存在的日期
- 仅远程存在的日期（可用于决定同步哪些日期）
- 两边都存在的日期

---

### Q18: 如何解析自然语言日期表达式？（推荐优先使用）

**你可以这样问：**

- "解析'本周'是哪几天"
- "最近7天对应的日期范围是什么"
- "上月的日期范围"
- "帮我把'最近30天'转换为具体日期"

**为什么需要这个工具？**

用户经常使用"本周"、"最近7天"等自然语言表达日期，但不同的 AI 模型自行计算日期时会产生不一致的结果。此工具使用服务器端的精确时间计算，确保所有 AI 模型获得一致的日期范围。

**支持的日期表达式：**

| 类型 | 中文表达 | 英文表达 |
|------|---------|---------|
| 单日 | 今天、昨天 | today, yesterday |
| 周 | 本周、上周 | this week, last week |
| 月 | 本月、上月 | this month, last month |
| 最近N天 | 最近7天、最近30天 | last 7 days, last 30 days |
| 动态 | 最近N天（任意数字） | last N days |

**使用优势：**

- ✅ **一致性**：所有 AI 模型获得相同的日期范围
- ✅ **准确性**：基于服务器端精确时间计算
- ✅ **标准化**：返回标准日期格式
- ✅ **灵活性**：支持中英文、动态天数

---

## 💡 使用技巧

### 1. 如何让 AI 展示全部数据而不是自动总结？

**背景**: 有时 AI 会自动总结数据，只展示部分内容，即使工具返回了完整的 50 条数据。

**如果 AI 仍然总结，你可以**:

- **方法 1 - 明确要求**: "请展示全部新闻，不要总结"
- **方法 2 - 指定数量**: "展示所有 50 条新闻"
- **方法 3 - 质疑行为**: "为什么只展示了 15 条？我要看全部"
- **方法 4 - 提前说明**: "查询今天的新闻，完整展示所有结果"

**注意**: AI 仍可能根据上下文调整展示方式。


### 2. 如何组合使用多个工具？

**示例：深度分析某个话题**

1. 先搜索："搜索'人工智能'相关新闻"
2. 再分析趋势："分析'人工智能'的热度趋势"
3. 最后情感分析："分析'人工智能'新闻的情感倾向"

**示例：追踪某个事件**

1. 查看最新："查询今天关于'iPhone'的新闻"
2. 查找历史："查找上周与'iPhone'相关的历史新闻"
3. 找相似报道："找出和'iPhone 发布会'相似的新闻"

